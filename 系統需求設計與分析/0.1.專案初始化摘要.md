# 專案初始化摘要

## 專案基本資訊

**專案名稱**：AI 驅動之自動化威脅情資管理系統 (AETIM)  
**版本**：v1.0  
**專案日期**：2025年10月20日  
**專案狀態**：已完成階段一至階段三實作

---

## 專案背景與目標

### 專案背景
本專案由一位負責 ISO 27001:2022 相關工作的資安官發起，旨在建立一個自動化威脅情資管理系統，以滿足 ISO 27001 A.5.7 (威脅情資) 控制項的要求。

### 核心目標
建立一個自動化流程，主動收集、分析外部威脅情資，並與內部資產進行關聯性分析，最終產出可行動的 (actionable) 報告，並即時通知相關人員。

### 主要功能需求
1. **蒐集威脅情資**：自動從多個公開與官方來源收集威脅情資
2. **威脅分析與關聯**：比對威脅與內部資產的實際影響
3. **產生分析報告**：生成不同受眾的報告（管理層與技術層）
4. **通知機制**：即時通知資安官及相關人員

---

## 專案範圍與階段規劃

### 階段一：基礎建設與情資定義 (Foundation & T-PIR)
**狀態**：✅ 已完成

**目標**：確立「我們關心什麼」以及「我們擁有什麼」

**主要工作**：
- 建立內部資產清冊 (Asset Inventory)
- 定義優先情資需求 (Priority Intelligence Requirements, PIR)
- 選擇與訂閱威脅情資來源 (Threat Feeds)

**產出**：
- 資產清單 CSV 檔案（`資產清單 - Sheet1.csv`）
- PIR 關鍵字定義（在 `config.yaml` 中）
- 情資來源清單（CISA KEV、NVD、VMware VMSA、MSRC、TWCERT/CC）

---

### 階段二：自動化收集與關聯分析 (Automation & Correlation)
**狀態**：✅ 已完成

**目標**：打造系統的大腦，自動執行收集與關聯分析

**主要工作**：
- 建置情資收集代理人 (Collection Agent)
- 開發關聯與風險評分引擎 (Correlation & Scoring Engine)
- 實現資料庫設計（T_Assets、T_Raw_Intel、T_Validated_Threats）

**產出**：
- `collectors.py`：多個收集器模組（CISA KEV、NVD、RSS Feeds）
- `correlation_engine.py`：關聯分析與風險評分引擎
- `scheduler.py`：主排程器，自動執行收集與分析任務
- SQLite 資料庫（`aetim.db`）及其三個核心資料表

---

### 階段三：報告生成與即時通知 (Reporting & Notification)
**狀態**：✅ 已完成

**目標**：將分析結果轉化為行動，並通知正確的人

**主要工作**：
- 設計自動化報告模板（CISO 週報、IT 工單）
- 建立通知與追蹤工作流
- 實現 AI 驅動的威脅摘要功能

**產出**：
- `reporting_engine.py`：報告生成引擎
- `notification_handler.py`：通知處理器
- 報告模板（HTML、JSON、TEXT 格式）
- 報告輸出目錄（`reports/yyyy/yyyymm/`，按年月自動分類）

---

### 階段四：持續維運與優化 (Operation & PDCA)
**狀態**：🔄 規劃中

**目標**：確保系統持續有效，並符合 ISO 27001 的 PDCA 循環

**主要工作**（待實現）：
- 監控與維護機制
- 誤報/漏報分析
- 情資來源更新
- 流程整合至 ISO 27001 管理審查會議

---

## 技術架構

### 執行環境
- **容器化部署**：Docker + Docker Compose
- **作業系統**：Linux（容器內）
- **Python 版本**：3.10+

### 核心技術棧
- **資料處理**：SQLite、Pandas
- **網路請求**：requests、feedparser
- **排程管理**：APScheduler
- **報告生成**：Jinja2
- **AI 功能**：OpenAI API（GPT-4）

### 資料庫設計
- **T_Assets**：內部資產清冊
- **T_Raw_Intel**：原始威脅情資
- **T_Validated_Threats**：已驗證威脅（含風險評分）

---

## AI 在專案中的關鍵角色

1. **自然語言處理 (NLP)**：自動閱讀非結構化的資安新聞、部落格、TWCERT 通報，提取 CVE 編號、TTPs 和受影響的產品
2. **威脅摘要**：自動將複雜的漏洞分析，總結為易於 CISO 和高管理解的「業務風險描述」（150 字內）
3. **模式識別**（規劃中）：分析大量 IOCs，識別出針對公司的潛在攻擊活動 (Campaign)

---

## 專案特色功能

### 1. 靈活的排程設定
- 支援小時級排程（1、2、3、4、6、12 小時）
- 支援分鐘級排程（5、10、15、20、30 分鐘）
- 可透過 `config.yaml` 動態調整

### 2. 立即觸發機制
- 支援手動立即執行收集任務
- 方式一：執行 `trigger_collectors.py` 腳本
- 方式二：透過 SIGUSR1 信號觸發（在運行的容器中）

### 3. 差異化通知策略
- **嚴重威脅**（風險分數 ≥ 9.0）：即時通知
- **高風險威脅**（風險分數 7.0-9.0）：每日彙總
- **管理層週報**：每週一上午 8:00 自動生成

### 4. 風險評分機制
- 基礎分數：CVSS 分數（來自 NVD）
- 情境加權：
  - 對外暴露：x1.5
  - 業務關鍵性（高）：x1.3
  - CISA KEV（已積極利用）：x2.0
  - 老舊系統（Windows 2008）：x1.2
  - 資料敏感度（高）：x1.1
- 最終分數上限：10.0

---

## 專案交付成果

### 程式碼結構
```
aetim/
├── collectors.py              # 情資收集器
├── correlation_engine.py      # 關聯分析引擎
├── reporting_engine.py        # 報告生成引擎
├── notification_handler.py   # 通知處理器
├── scheduler.py               # 主排程器
├── trigger_collectors.py      # 立即觸發腳本
├── setup_database.py          # 資料庫初始化
├── utils.py                   # 工具函數
├── config.yaml                # 系統設定檔
├── requirements.txt           # Python 依賴套件
├── Dockerfile                 # Docker 映像檔定義
├── docker-compose.yml         # Docker Compose 配置
├── README.md                  # 使用說明文件
├── reports/                   # 報告輸出目錄（按年月分類：reports/yyyy/yyyymm/）
└── 資產清單 - Sheet1.csv       # 資產清冊
```

### 文件產出
- 專案初始化摘要（本文件）
- 規格文件（`規格_spec.md`）
- 實作計劃（`實作計劃_tasks.md`）
- 測試報告（`測試報告.md`）
- README.md（安裝與使用指南）

---

## 專案成果與效益

### 技術成果
1. ✅ 完成三個核心階段的實作
2. ✅ 建立完整的自動化威脅情資收集與分析流程
3. ✅ 實現 AI 驅動的威脅摘要功能
4. ✅ 提供差異化的報告與通知機制

### 業務效益
1. **符合 ISO 27001 要求**：滿足 A.5.7 (威脅情資) 控制項
2. **提升效率**：自動化收集與分析，減少人工工作量
3. **即時反應**：嚴重威脅立即通知，降低風險
4. **決策支援**：提供管理層摘要與技術層工單，支援不同層級的決策

---

## 後續規劃

### 短期（階段四）
- 實現監控與維護機制
- 建立誤報/漏報分析流程
- 整合至 ISO 27001 管理審查會議

### 中期（進階功能）
- 實現網頁儀表板（階段五規劃）
- 整合更多情資來源
- 增強 AI 摘要品質

### 長期（持續優化）
- 模式識別與攻擊活動分析
- 與其他資安工具整合（SIEM、SOAR）
- 機器學習模型優化風險評分

---

## 專案參與者

- **專案發起人**：Wilson（資安官）
- **開發團隊**：Wilson & Gemini 團隊
- **專案顧問**：AI 威脅分析師 & 企業資安諮詢顧問

---

## 參考文件

- `系統需求設計與分析/階段一 1.需求分析.md`
- `系統需求設計與分析/階段二 2.設計分析.md`
- `系統需求設計與分析/階段三 3.產生分析報告_Reporting Engine.md`
- `aetim/README.md`

---

**文件版本**：v1.0  
**最後更新**：2025年11月3日  
**文件狀態**：已完成


